<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Blender</title>
<meta name="author" content="toby" >
<meta name="date" content="2016-12-20T17:13:52+0100" >
<meta name="copyright" content="Tobias Schaefer 2016">
<meta name="keywords" content="CNC, CAM, Toolpath generation">
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<meta http-equiv="expires" content="0">
</head>
<body>
<h1 class="Section">
<a class="toc" name="toc-Section-4">4</a> Writing machine definitions
</h1>
<div class="Standard">
Machines for Generic CAM are defined as small LUA programs.
</div>
<div class="Standard">
LUA<span class="FootOuter"><span class="SupFootMarker"> [C] </span><span class="HoverFoot"><span class="SupFootMarker"> [C] </span>www.lua.org</span></span> is a programming language developed by a team from the Pontifical Catholic University of Rio de Janeiro in Brazil.
</div>
<div class="Standard">
The machine descriptions consist of two parts:
</div>
<ol>
<li>
Description of the components of the machine.
</li>
<li>
The function <b>AssembleMachine()</b> with instructions to where all the parts belong.
</li>

</ol>
<div class="Standard">
To generate geometry the commands <b>box</b>, <b>cylinder</b>, <b>loadstl</b> and <b>loaddxf</b> are used.
</div>
<div class="Standard">
The very first geometry generated belongs to the base of the machine. This geometry is fixed and does not move at all.
</div>
<div class="Standard">
The next command is <b>addcomponent</b>. Geometry definitions following this command are added to the defined component. An abitrary number of components can be defined.
</div>
<div class="Standard">
Special components are <b>tableorigin</b> and <b>toolholder</b> these commands have to be in the machine description exactly once. They describe where the stock material and the tool is placed. Table and tool may move freely. In a 5-axis CNC mill for example the table rotates around two axis and the tool moves in X, Y, and Z.
</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-4.1">4.1</a> Commands
</h2>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.1">4.1.1</a> addcomponent
</h3>
<div class="Standard">
Starts a new component in the machine description.
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.2">4.1.2</a> identity
</h3>
<div class="Standard">
Usage: identity();
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.3">4.1.3</a> translate
</h3>
<div class="Standard">
Usage: translate(tx, ty, tz);
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.4">4.1.4</a> rotate
</h3>
<div class="Standard">
Usage: rotate(rx, ry, rz);
</div>
<div class="Standard">
Usage: rotate(rx, ry, rz, ox, oy, oz);
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.5">4.1.5</a> box
</h3>
<div class="Standard">
Usage: box(h, w, d);
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.6">4.1.6</a> cylinder
</h3>
<div class="Standard">
Usage: cylinder(...);
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.7">4.1.7</a> loadstl
</h3>
<div class="Standard">
Usage: loadstl(’filename’);
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.8">4.1.8</a> loaddxf
</h3>
<div class="Standard">
<i>Not yet implemented!</i>
</div>
<div class="Standard">
Usage: loaddxf(”filename”);
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.9">4.1.9</a> setstyle
</h3>
<div class="Standard">
Usage: setstyle(r, g, b);
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.10">4.1.10</a> toolholder
</h3>
<div class="Standard">
Usage: toolholder();
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.11">4.1.11</a> tableorigin
</h3>
<div class="Standard">
Usage: tableorigin();
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-4.1.12">4.1.12</a> placecomponent
</h3>
<div class="Standard">
Usage: placecomponent(”componentname”);
</div>
<div class="Standard">
<p><br/>
</p>

</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-4.2">4.2</a> Modelling machines with Blender
</h2>
<div class="Standard">
The software blender is a free 3D modeller. It is available from www.blender.org.
</div>
<div class="Standard">
<div class="float">
<a class="Label" name="Figure-1"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/robot_blender.png" alt="Modelling a Stäubli RX-90 robot with Blender"/>

</div>
<div class="caption">
Figure 1 
</div>

</div>

</div>

</div>
</body>
</html>